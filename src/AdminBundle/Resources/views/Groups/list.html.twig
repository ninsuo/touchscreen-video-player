{% extends 'AppBundle::layout.html.twig' %}

{% import 'BaseBundle::macros.html.twig' as macros %}

{% block title %}{{ 'base.menu.admin.groups' | trans }}{% endblock %}

{% block body %}

    <div class="well">

        {{ macros.search() }}

        <table class="table">
            <thead>
                <tr>
                    <th style="width: 20%;">{{ 'admin.groups.id' | trans }}</th>
                    <th style="width: 50%;">{{ 'admin.groups.name' | trans }}</th>
                    <th style="width: 30%;">{{ 'admin.groups.actions' | trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for group in pager.currentPageResults %}
                    <tr>
                        <td>{{ group.id }}</td>
                        <td>
                            {{
                                include('BaseBundle::editOnClick.html.twig', {
                                    'text': group.name,
                                    'endpoint': path('admin_groups_edit_name', {id: group.id}),
                                })
                            }}
                        </td>
                        <td>
                            <a
                                href="{{ path('admin_groups_users', {groupId: group.id}) }}"
                                class="btn btn-warning btn-sm">{{ 'admin.groups.manage' | trans }}</a>
                            &nbsp;&nbsp;&nbsp;
                            <a
                                href="{{ path('admin_groups_delete', {id: group.id, token: csrf_token('administration')}) }}"
                                data-message="{{ 'admin.groups.delete_confirm' | trans({'%group%': group.name}) | e('html_attr') }}"
                                class="requires-confirmation btn btn-danger btn-sm">{{ 'admin.groups.delete' | trans }}</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        {{ macros.pager(pager) }}

    </div>

    {{ macros.form(create, [], 'admin.groups.create' | trans) }}

{% endblock %}
